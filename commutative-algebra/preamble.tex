% basics
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{textcomp}
% \usepackage[dutch]{babel}
\usepackage{url}
% \usepackage{hyperref}
% \hypersetup{
%     colorlinks,
%     linkcolor={black},
%     citecolor={black},
%     urlcolor={blue!80!black}
% }
\usepackage{graphicx}
\usepackage{float}
\usepackage{booktabs}
\usepackage{enumitem}
% \usepackage{parskip}
\usepackage{emptypage}
\usepackage{subcaption}
\usepackage{multicol}
\usepackage[usenames,dvipsnames]{xcolor}

\usepackage{amsmath, amsfonts, mathtools, amsthm, amssymb}
\usepackage{mathrsfs}
\usepackage{cancel}
\usepackage{bm}
\newcommand\N{\ensuremath{\mathbb{N}}}
\newcommand\R{\ensuremath{\mathbb{R}}}
\newcommand\Z{\ensuremath{\mathbb{Z}}}
\renewcommand\O{\ensuremath{\emptyset}}
\newcommand\Q{\ensuremath{\mathbb{Q}}}
\newcommand\C{\ensuremath{\mathbb{C}}}
\DeclareMathOperator{\sgn}{sgn}
\usepackage{systeme}
\let\svlim\lim\def\lim{\svlim\limits}
\let\implies\Rightarrow
\let\impliedby\Leftarrow
\let\iff\Leftrightarrow
\let\epsilon\varepsilon
\usepackage{stmaryrd} % for \lightning
\newcommand\contra{\scalebox{1.1}{$\lightning$}}

\definecolor{correct}{gray}{0.3}
\newcommand\correct[2]{\ensuremath{\:}{\color{red}{#1}}\ensuremath{\to }{\color{correct}{#2}}\ensuremath{\:}}
\newcommand\green[1]{{\color{correct}{#1}}}

\definecolor{exampleblue}{rgb}{0.96, 0.98, 1}
\definecolor{theoremgrayblue}{rgb}{0.95, 0.96, 0.98}

\newtheorem{mainthm}{Theorem}[chapter] % shared counter for all main theorem-like envs

% theorem styles
\usepackage{thmtools}
\usepackage[framemethod=TikZ]{mdframed}
\mdfsetup{skipabove=1em,skipbelow=0em}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{gray!40!black}, bodyfont=\normalfont,
    mdframed={
        linewidth=2pt,
        rightline=false, topline=false, bottomline=false,
        linecolor=gray!60!black, backgroundcolor=gray!10,
    }
]{thmgreenbox}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{gray!40!black}, bodyfont=\normalfont,
    mdframed={
        linewidth=2pt,
        rightline=false, topline=false, bottomline=false,
        linecolor=blue!40!black, backgroundcolor=exampleblue,
    }
]{thmbluebox}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{gray!40!black}, bodyfont=\normalfont,
    mdframed={
        linewidth=2pt,
        rightline=false, topline=false, bottomline=false,
        linecolor=gray!60!black
    }
]{thmblueline}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{gray!40!black},
    bodyfont=\normalfont,
    % headpunct={},
    mdframed={
        linewidth=2pt,
        rightline=false, topline=false, bottomline=false,
        linecolor=blue!20!black, backgroundcolor=theoremgrayblue,
    }
]{thmredbox}


\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{gray!40!black}, bodyfont=\normalfont,
    numbered=no,
    mdframed={
        linewidth=2pt,
        rightline=false, topline=false, bottomline=false,
        linecolor=gray!60!black, backgroundcolor=gray!2,
    },
    qed=\qedsymbol
]{thmproofbox}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{gray!40!black}, bodyfont=\normalfont,
    numbered=no,
    mdframed={
        linewidth=2pt,
        rightline=false, topline=false, bottomline=false,
        linecolor=gray!60!black, backgroundcolor=gray!2,
    },
]{thmexplanationbox}

% Unnumbered definitions and remarks
\declaretheorem[style=thmgreenbox, numbered=no, name=Definition]{definition}
\declaretheorem[style=thmblueline, numbered=no, name=Remark]{remark}
\declaretheorem[style=thmblueline, numbered=no, name=Note]{note}

% Shared counter environments (per chapter)
\declaretheorem[style=thmredbox, sibling=mainthm, name=Theorem]{theorem}
\declaretheorem[style=thmredbox, sibling=mainthm, name=Proposition]{prop}
\declaretheorem[style=thmredbox, sibling=mainthm, name=Lemma]{lemma}
\declaretheorem[style=thmredbox, sibling=mainthm, name=Corollary]{corollary}

% Example with its own chapter-based counter (starting from 1)
\newtheorem{examplechapx}{Example}[chapter]
\renewcommand{\theexamplechapx}{\arabic{examplechapx}}
\declaretheorem[style=thmbluebox, sibling=examplechapx, name=Example]{eg}

% Command to highlight newly defined terms
\newcommand{\term}[1]{\textbf{\textit{#1}}}

\declaretheorem[style=thmproofbox, name=Proof]{replacementproof}
\renewenvironment{proof}[1][\proofname]{\vspace{-10pt}\begin{replacementproof}}{\end{replacementproof}}

\declaretheorem[style=thmexplanationbox, name=Proof]{tmpexplanation}
\newenvironment{explanation}[1][]{\vspace{-10pt}\begin{tmpexplanation}}{\end{tmpexplanation}}

\newtheorem*{uovt}{UOVT}
\newtheorem*{notation}{Notation}
\newtheorem*{previouslyseen}{As previously seen}
\newtheorem*{problem}{Problem}
\newtheorem*{observe}{Observe}
\newtheorem*{property}{Property}
\newtheorem*{intuition}{Intuition}

% Remove section numbering entirely
\setcounter{secnumdepth}{0}

\author{Aziz Bouland}
